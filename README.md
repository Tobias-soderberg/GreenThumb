Arkitekturen är som beskriven i ER-diagrammet vi fick, det vill säga 1:1 mellan User och Garden, M:M mellan Garden och Plant, samt 1:M mellan Plant och Instructions. Jag fixade så att om man tar bort en planta försvinner alla instructions som tillhör den, och om man tar bort en User så försvinner Garden. Något som jag kanske hade gjort annorlunda, då jag inte gjorde annat än att spara en koppling till Plants med min Garden, var att sätta Plants M:M-relationen direkt till min User. Då jag inte behöver en Garden model så som jag har lagt upp det. Men om man vill ha till exempel namn eller att andra mer specifika properties är det bra med att man kan ha en Garden model att ha dem i.

Det fanns en del utmaningar under mitt arbete. Först hade jag lite problem med att fixa min M:M-relation, då jag hade glömt bort hur man gjorde dem i OnModelCreating, men lyckades till slut med en googlesökning för att få det att fungera som det skulle. 

Efter att databasen fungerade som den skulle, var det mest mitt repository som jag fick problem med ibland när jag ville göra vissa saker annorlunda med olika Models. Jag kände att den mer generella lösningen med <T> var något som jag kunde lära mig mer av och valde därför att fortsätta med den och lösa de problem som jag fick. Jag hade först stora problem med min update, då jag hade kollat lite på reflektion i tidigare uppgift och fått det att fungera genom att skicka in ett nytt objekt till metoden som där tar ut sina properties och skriver över den som finns i databasen och sedan uppdaterar. Men nu var problemet att jag skulle ha en lista som property, och den ville inte fungera på samma sätt. Jag försökte länge men kom fram till att ändra helt på min lösning genom att ta ut objektet jag skulle ändra först för att sedan ändra dess properties, och efter jag ändrat göra en SaveChanges. Men det fungerade inte, så efter lite google sökning hittade jag att man kunde göra en ”Attach” för att sedan när man gör en update så kollar EF core på det objektet och uppdaterar till databasen. 

Ett annat problem jag hade var att jag ville göra olika många includes i min GetAllInclude()-metod i repository. Det tog mig en stund att fixa, och jag lärde mig nya saker även där med params och IQueryable, som fixade att man kunde skicka in ett okänt antal argument till metoden. 

Det sista större problemet jag hade var i MyGarden där jag lagt till npgraextra funktioner utöver det som var beskrivet i uppgiften. Jag fick lära mig hur man skapar och sätter in XAML-kod i backend. Jag tyckte att det skulle vara roligt att fixa men det blev mycket större än vad jag trott. En av lösningarna jag hade var att ”uppdatera” sidan, det vill säga skapa en ny och stänga förra vid mina uppdatereingar. Jag kände att det löser målet med uppdateringen av alla värden och bilder med lite kod. Det kanske ser lite konstigt ut att fönstret försvinner vid knapptrycket, men det var en lösning jag tyckte fungerade. Problemet var att jag skulle ändra textboxen med hur många plantor. Jag kom inte på hur man skulle komma åt det så jag tänkte att jag skapar allt igen med de nya värdena i databasen.

Eftersom jag har programmerat tidigare så har jag inte fått så många insikter över mitt framtida yrke. Men definitivt mer kunskap och förståelse om generella metoder (Repository) och om params, som jag tror kommer hjälpa mig mycket framöver. Jag har programmerat med databas innan men kände nu att jag fick en bättre förståelse om hur allt hänger ihop.
